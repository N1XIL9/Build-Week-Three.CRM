
<div id="not-print" class="container" >


  <!--Lista Clienti-->


  <table class="table">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Ditta</th>
        <th class="lbTel" scope="col">P.IVA</th>
        <th scope="col">Contatto</th>
        <th class="lbTel" scope="col">Telefono</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cl of clienti">
        <th class="td-id">{{ cl.id }}</th>
        <td>{{ cl.ragioneSociale }} {{ cl.tipoCliente }}</td>
        <td class="lbTel">{{ cl.partitaIva }}</td>
        <td>{{ cl.nomeContatto }} {{ cl.cognomeContatto }}</td>
        <!-- <td [hidden]="noShow">{{ cl.indirizzoSede?.comune }}</td> -->
        <td class="lbTel">
          {{ cl.indirizzoSede?.comune?.nome }} ({{
          cl.indirizzoSede?.comune?.provincia
          }})
        </td>
      </tr>
    </tbody>
  </table>

  <!-- INPUT FATTURE -->

  <form [formGroup]="invoiceForm" (ngSubmit)="onSubmit()">
    <h2 class="h3 mb-3 fw-normal text-white">Crea Fattura</h2>
    <div>
      <p>
        <ngb-alert
          [dismissible]="true"
          *ngIf="showAlert"

        >
          <strong>Attenzione!</strong> {{ error }}
        </ngb-alert>
      </p>
    </div>

    <div class="form-floating mb-3" formGroupName="cliente">
      <input
      type="text"
      class="form-control"
      id="id"
      placeholder=""
      formControlName= "id"
      />
      <label for="cliente">Cliente</label>
    </div>

    <div class="form-floating mb-3">
      <input
      type="text"
      class="form-control"
      id="importo"
      placeholder=""
      formControlName="importo"
      />
      <label for="importo">Importo</label>
    </div>
    <div class="form-floating mb-3">
      <input
      type="text"
      class="form-control"
      id="servizio"
      placeholder=""
      formControlName="servizio"
      />
      <label for="">Servizio</label>
    </div>
    <div class="form-floating mb-3">
      <input
      type="text"
      class="form-control"
      id="quantita"
      placeholder=""
      formControlName="quantita"
      />
      <label for="quantita">Quantit√†</label>
    </div>
    <div class="form-floating mb-3" [hidden]="noShow">
      <input
        type="text"
        class="form-control"
        id="dataInserimento"
        placeholder="dataInserimento"
        formControlName="dataInserimento"
      />
      <label for="dataInserimento"></label>
    </div>
    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        id="stato"
        placeholder=""
        formControlName="stato"
      />
      <label for="stato">Stato Fattura</label>
    </div>
    <button type="submit">Aggiungi</button>
  </form>

  <section class="container-fluid">
    <table class="table table-success table-striped">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Cliente</th>
          <th scope="col">Data Inserimento</th>
          <th scope="col">Importo</th>
          <th scope="col">Stato</th>
          <th scope="col">Dettagli</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let fattura of fatture">
          <th>{{ fattura.id }}</th>
          <td>{{fattura.cliente?.id}}</td>
          <td>{{ fattura.dataInserimento | date: "dd/MM/yyyy" }}</td>
          <td>{{ fattura.importo | currency:"EUR": true }}</td>
          <td>{{fattura.stato}}</td>
          <td>
            <button
              mat-button
              type="submit"
              [routerLink]="[fattura.id]"
              routerLinkActive="router-link-active"
            >
              <i class="bi bi-info-circle"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </section>
</div>
<router-outlet></router-outlet>


